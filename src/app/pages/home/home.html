<section class="section" dir="rtl">
  <div class="container">

    <!-- Ø³Ù„Ø§ÙŠØ¯Ø± Ø§Ù„Ù…Ù‚Ø¯Ù‘Ù…Ø© -->
    <div class="hero-shell" (mouseenter)="pause()" (mouseleave)="resume()">
      <!-- Ø®Ù„ÙÙŠØ§Øª Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± -->
      <ng-container *ngFor="let s of slides; let i = index">
        <div class="bg-layer"
             [class.bg-active]="i === index"
             [style.background-image]="'url(' + s.bg + ')'">
          <div class="bg-grad" [ngClass]="s.gradient"></div>
        </div>
      </ng-container>

      <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± -->
      <div class="hero-content">
        <a class="icon-wrap"
           [routerLink]="slides[index].route"
           [attr.aria-label]="(slides[index].titleKey | translate)">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
            <path [attr.d]="iconPath(slides[index].icon)"></path>
          </svg>
        </a>

        <h1 class="hero-title">{{ slides[index].titleKey | translate }}</h1>
        <p class="hero-sub">{{ slides[index].subtitleKey | translate }}</p>

        <!-- Ø´Ø§Ø±Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© Ù…Ù† Ù…ÙØ§ØªÙŠØ­ Ø§Ù„ØªØ±Ø¬Ù…Ø© -->
        <div class="tags">
          <span class="tag" *ngFor="let t of tags">{{ t }}</span>
        </div>

        <a class="cta-btn" [routerLink]="slides[index].route">
          {{ (slides[index].ctaKey || slides[index].titleKey) | translate }}
        </a>

        <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
        <div class="progress">
          <div class="bar"
               #bar
               (animationend)="onProgressDone()"
               [style.animationPlayState]="paused ? 'paused' : 'running'">
          </div>
        </div>
      </div>

      <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± -->
      <button class="nav-btn left" type="button"
              (click)="prev()"
              [attr.aria-label]="'home.prev' | translate">
        <svg viewBox="0 0 24 24">
          <path d="M15 6l-6 6 6 6"
                stroke="currentColor" stroke-width="2" fill="none"
                stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>

      <button class="nav-btn right" type="button"
              (click)="next()"
              [attr.aria-label]="'home.next' | translate">
        <svg viewBox="0 0 24 24">
          <path d="M9 18l6-6-6-6"
                stroke="currentColor" stroke-width="2" fill="none"
                stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>

      <!-- Ø§Ù„Ù†Ù‚Ø§Ø· -->
      <div class="dots">
        <button *ngFor="let _ of slides; let i = index"
                class="dot"
                [class.active]="i === index"
                (click)="go(i)"
                [attr.aria-label]="'home.goto_slide' | translate:{ num: i + 1 }">
        </button>
      </div>
    </div>

    <!-- Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ù…ÙŠØ² -->
    <div class="featured-report mt-24" dir="rtl">
      <div class="thumb"
           [style.background-image]="'url(' + featuredReport.img + ')'"
           [style.background-color]="'#0b2240'">
      </div>

      <div class="body">
        <h3 class="title">{{ 'home.featured.title' | translate }}</h3>
        <p class="excerpt">{{ 'home.featured.excerpt' | translate }}</p>

        <div class="actions">
          <a class="btn primary"
             [routerLink]="'/reports'"
             [queryParams]="{ r: featuredReport.slug }">
            {{ 'home.more_details' | translate }}
          </a>
        </div>
      </div>
    </div>

    <!-- Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± -->
    <div class="reports-grid mt-16" dir="rtl">
      <a class="rep-card"
         *ngFor="let r of reportCards"
         [routerLink]="r.localLink || '/reports'"
         [queryParams]="r.slug ? { r: r.slug } : null"
         [attr.aria-label]="(r.titleKey | translate)">
        <div class="rep-media">
          <img class="rep-img"
               [src]="r.img"
               [alt]="(r.titleKey | translate)"
               loading="lazy" decoding="async"
               (error)="onImgError($event)">
        </div>

        <div class="rep-info">
          <h5 class="rep-title">{{ r.titleKey | translate }}</h5>
        </div>
      </a>
    </div>

    <!-- Ø§Ù„Ø¯Ø¹ÙˆØ§Øª (CTA) -->
    <div class="cta-grid mt-16">
      <div class="cta cta-blue">
        <div class="cta-icon">ğŸ’¡</div>
        <h4>{{ 'initiative.title' | translate }}</h4>
        <p>{{ 'initiative.lead' | translate }}</p>
        <a href="mailto:reporting@iccoc.eu" class="btn">reporting@iccoc.eu</a>
      </div>

      <div class="cta cta-amber">
        <div class="cta-icon">ğŸ“°</div>
        <h4>{{ 'news.subscribe_title' | translate }}</h4>
        <p>{{ 'home.welcome' | translate }}</p>
        <a class="btn" [routerLink]="'/what-we-do'">{{ 'what.title' | translate }}</a>
      </div>

      <div class="cta cta-emerald">
        <div class="cta-icon">âœ‰ï¸</div>
        <h4>{{ 'nav.contact' | translate }}</h4>
        <p>{{ 'about.mission' | translate }}</p>
        <a href="mailto:info@iccoc.eu" class="btn">info@iccoc.eu</a>
      </div>
    </div>

  </div>
</section>
